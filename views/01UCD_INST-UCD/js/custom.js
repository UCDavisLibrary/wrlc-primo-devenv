!function n(o,i,a){function s(t,e){if(!i[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=i[t]={exports:{}},o[t][0].call(r.exports,function(e){return s(o[t][1][e]||e)},r,r.exports,n,o,i,a)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,r){"use strict";var n,l,u,c,p,f,h,o,i,d,a,s,y,v,m,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function b(e,t,r,n){var o,i,a,s,t=t&&t.prototype instanceof w?t:w,t=Object.create(t.prototype),n=new O(n||[]);return t._invoke=(o=e,i=r,a=n,s=u,function(e,t){if(s===p)throw new Error("Generator is already running");if(s===f){if("throw"===e)throw t;return C()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){var n=function e(t,r){var n=t.iterator[r.method];if(n===l){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=l,e(t,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=_(n,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,h;n=n.arg;if(!n)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h;{if(!n.done)return n;r[t.resultName]=n.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=l)}r.delegate=null;return h}(r,a);if(n){if(n===h)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===u)throw s=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=p;n=_(o,i,a);if("normal"===n.type){if(s=a.done?f:c,n.arg!==h)return{value:n.arg,done:a.done}}else"throw"===n.type&&(s=f,a.method="throw",a.arg=n.arg)}}),t}function _(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function w(){}function S(){}function j(){}function P(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function A(a){var t;this._invoke=function(r,n){function e(){return new Promise(function(e,t){!function t(e,r,n,o){e=_(a[e],a,r);if("throw"!==e.type){var i=e.arg;return(r=i.value)&&"object"===(void 0===r?"undefined":g(r))&&d.call(r,"__await")?Promise.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):Promise.resolve(r).then(function(e){i.value=e,n(i)},o)}o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function e(){for(;++r<t.length;)if(d.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=l,e.done=!0,e};return e.next=e}}return{next:C}}function C(){return{value:l,done:!0}}n=function(){return this}()||Function("return this")(),i=Object.prototype,d=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",y=a.asyncIterator||"@@asyncIterator",v=a.toStringTag||"@@toStringTag",a="object"===(void 0===t?"undefined":g(t)),(m=n.regeneratorRuntime)?a&&(t.exports=m):((m=n.regeneratorRuntime=a?t.exports:{}).wrap=b,u="suspendedStart",c="suspendedYield",p="executing",f="completed",h={},(n={})[s]=function(){return this},(a=(a=Object.getPrototypeOf)&&a(a(k([]))))&&a!==i&&d.call(a,s)&&(n=a),o=j.prototype=w.prototype=Object.create(n),(S.prototype=o.constructor=j).constructor=S,j[v]=S.displayName="GeneratorFunction",m.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},m.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,v in e||(e[v]="GeneratorFunction")),e.prototype=Object.create(o),e},m.awrap=function(e){return{__await:e}},P(A.prototype),A.prototype[y]=function(){return this},m.AsyncIterator=A,m.async=function(e,t,r,n){var o=new A(b(e,t,r,n));return m.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},P(o),o[v]="Generator",o[s]=function(){return this},o.toString=function(){return"[object Generator]"},m.keys=function(r){var e,n=[];for(e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},m.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&d.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=d.call(o,"catchLoc"),s=d.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&d.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n,o=r.completion;return"throw"===o.type&&(n=o.arg,T(r)),n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=l),h}})},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=e("lit-element"),a=e("./hello-world.tpl.js");(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,i.LitElement),n(s,null,[{key:"properties",get:function(){return{}}},{key:"styles",get:function(){return(0,a.styles)()}}]),n=s;function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return e.render=a.render.bind(e),e}r.default=n,customElements.define("hello-world",n)},{"./hello-world.tpl.js":3,"lit-element":14}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=a(["\n    :host {\n      display: block;\n    }\n  "],["\n    :host {\n      display: block;\n    }\n  "]),o=a(["\n  <h1>hello World</h1>\n\n"],["\n  <h1>hello World</h1>\n\n"]);r.styles=function(){return[(0,i.css)(n)]},r.render=function(){return(0,i.html)(o)};var i=e("lit-element");function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},{"lit-element":14}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){e.value("searchTargets",[{name:"Worldcat",url:"https://110105.on.worldcat.org/v2/search?",img:"custom/01UCD_INST-UCD/img/worldcat-logo.png",alt:"WorldCat logo",mapping:function(e,t){var r={any:"kw",title:"ti",creator:"au",subject:"su",isbn:"bn",issn:"n2"};try{return"queryString="+e.map(function(e){e=e.split(",");return(r[e[0]]||"kw")+":"+(e[2]||"")+" "+(e[3]||"")+" "}).join("")}catch(e){return""}}},{name:"Google Scholar",url:"https://scholar.google.com/scholar?q=",img:"custom/01UCD_INST-UCD/img/google-scholar.svg",alt:"Google Scholar Logo",mapping:function(e,t){try{return e.map(function(e){return e.split(",")[2]||""}).join(" ")}catch(e){return""}}}]),e.value("externalSearchText","Can't find what you're looking for? Search items held at other libraries.")}},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};r.loadGoogleAnalytics=function(){angular.module("googleAnalytics",[]),angular.module("googleAnalytics").run(["$rootScope",function(e){var t,r,n;t=window,n=document,r="ga",t.GoogleAnalyticsObject=r,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=+new Date,r=n.createElement("script"),n=n.getElementsByTagName("script")[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",n.parentNode.insertBefore(r,n),ga("create","UA-65988958-7","auto"),e.$on("$locationChangeSuccess",function(){ga&&ga("send","pageview")})}])},r.trackHathiFinds=function(e,n){if(!ga)return!1;var t=n.children(),r=!0,o=!1,i=void 0;try{for(var a,s=Object.entries(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,u=d(l,2),c=(u[0],u[1]);if("hathi-trust-availability"==c.localName){var p=c.getElementsByTagName("a");if(0<p.length){var f=function(){var e=n.nativeElement.querySelector("ga-hathi-load");if(e&&"true"==e.getAttribute("event-sent"))return{v:!0};var t=p[0].getAttribute("href"),r=(0,y.getParameterByName)("query")?(0,y.getParameterByName)("query"):"";return ga("send",{hitType:"event",eventCategory:"Hathi Load",eventAction:t,eventLabel:r}),p[0].addEventListener("click",function(){ga("send","event",{eventCategory:"Hathi Click",eventAction:t,eventLabel:r,transport:"beacon"})}),{v:!0}}();if("object"===(void 0===f?"undefined":h(f)))return f.v}return!1}}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return!1};var y=e("./utils")},{"./utils":9}],6:[function(e,t,r){"use strict";e("primo-explore-external-search"),e("primo-explore-hathitrust-availability");var n=e("./ga"),o=s(e("./external-search")),i=s(e("./search-bar-after")),a=s(e("./search-result-availability-line-after"));function s(e){return e&&e.__esModule?e:{default:e}}e("@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"),e("regenerator-runtime/runtime"),e("./components/hello-world"),(0,n.loadGoogleAnalytics)();window.ucdlibVersion="2.0.0-alpha7";n=angular.module("viewCustom",["angularLoad","hathiTrustAvailability","externalSearch","googleAnalytics"]);(0,o.default)(n),(0,i.default)(n),(0,a.default)(n)},{"./components/hello-world":2,"./external-search":4,"./ga":5,"./search-bar-after":7,"./search-result-availability-line-after":8,"@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js":10,"primo-explore-external-search":28,"primo-explore-hathitrust-availability":30,"regenerator-runtime/runtime":1}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){e.component("prmSearchBarAfter",{bindings:{parentCtrl:"<"},controller:"SearchBarAfterController",templateUrl:"custom/01UCD_INST-UCD/html/templates/prmSearchBarAfter.html"}),e.controller("SearchBarAfterController",["$location","$window",function(n,o){this.navigateToHomePage=function(){var e=n.search(),t=e.vid,r=e.lang||"en_US",e=n.absUrl().split("/discovery/");if(1===e.length)return console.log(e[0]+" : Could not detect the view name!"),!1;e=e[0];return o.location.href=e+"/discovery/search?vid="+t+"&lang="+r,!0}}])}},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){window.browzine={api:"https://public-api.thirdiron.com/public/v1/libraries/75",apiKey:"c5635332-0b38-4ded-9adc-b16be01f079c",journalCoverImagesEnabled:!0,journalBrowZineWebLinkTextEnabled:!0,journalBrowZineWebLinkText:"View Journal Contents",acticleBrowZineWebLinkTextEnabled:!0,articleBrowZineWebLinkText:"View Issue Contents",articlePDFDownloadLinkEnabled:!0,articlePDFDownloadLinkText:"Download PDF",printRecordsIntegrationEnabled:!0},browzine.script=document.createElement("script"),browzine.script.src="https://s3.amazonaws.com/browzine-adapters/primo/browzine-primo-adapter.js",document.head.appendChild(browzine.script),e.controller("prmSearchResultAvailabilityLineAfterController",["$scope","$element",function(e,t){window.browzine.primo.searchResult(e),this.gaHathiLoad=function(){return(0,n.trackHathiFinds)(e,t)}}]),e.component("prmSearchResultAvailabilityLineAfter",{bindings:{parentCtrl:"<"},controller:"prmSearchResultAvailabilityLineAfterController",template:'<hathi-trust-availability hide-online="true" hide-if-journal="false" ignore-copyright="true"></hathi-trust-availability><ga-hathi-load event-sent="{{$ctrl.gaHathiLoad()}}"></ga-hathi-load>'})};var n=e("./ga")},{"./ga":5}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getParameterByName=function(e,t){t=t||window.location.href;e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}},{}],10:[function(e,t,r){"use strict";var n;void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback||(n=HTMLElement,window.HTMLElement=function(){return Reflect.construct(n,[],this.constructor)},HTMLElement.prototype=n.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,n))},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r.supportsAdoptingStyleSheets=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,a=Symbol(),s=r.CSSResult=(n(l,[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){return void 0===this._styleSheet&&(i?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}}]),l);function l(e,t){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t!==a)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}r.unsafeCSS=function(e){return new s(String(e),a)},r.css=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=t.reduce(function(e,t,r){return e+function(e){if(e instanceof s)return e.cssText;if("number"==typeof e)return e;throw new Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.")}(t)+n[r+1]},n[0]);return new s(o,a)}},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.property=i,r.internalProperty=a,r.query=function(i,a){return function(e,t){var r,n,o={get:function(){return this.renderRoot.querySelector(i)},enumerable:!0,configurable:!0};return a&&(r=void 0!==t?t:e.key,n="symbol"===(void 0===r?"undefined":s(r))?Symbol():"__"+r,o.get=function(){return void 0===this[n]&&(this[n]=this.renderRoot.querySelector(i)),this[n]}),void 0!==t?l(o,e,t):u(o,e)}},r.queryAsync=function(i){return function(e,t){var r,n,o={get:(r=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateComplete;case 2:return e.abrupt("return",this.renderRoot.querySelector(i));case 3:case"end":return e.stop()}},e,this)}),n=function(){var s=r.apply(this,arguments);return new Promise(function(i,a){return function t(e,r){try{var n=s[e](r),o=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});i(o)}("next")})},function(){return n.apply(this,arguments)}),enumerable:!0,configurable:!0};return void 0!==t?l(o,e,t):u(o,e)}},r.queryAll=function(n){return function(e,t){var r={get:function(){return this.renderRoot.querySelectorAll(n)},enumerable:!0,configurable:!0};return void 0!==t?l(r,e,t):u(r,e)}},r.eventOptions=function(r){return function(e,t){return void 0!==t?p(r,e,t):c(r,e)}},r.queryAssignedNodes=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return function(e,t){var r={get:function(){var e=this.renderRoot.querySelector("slot"+(n?"[name="+n+"]":":not([name])")),e=e&&e.assignedNodes({flatten:o});return e=e&&i?e.filter(function(e){return e.nodeType===Node.ELEMENT_NODE&&(e.matches?e.matches(i):f.call(e,i))}):e},enumerable:!0,configurable:!0};return void 0!==t?l(r,e,t):u(r,e)}};r.customElement=function(n){return function(e){return"function"==typeof e?(r=e,window.customElements.define(n,r),r):(t=n,{kind:e.kind,elements:e.elements,finisher:function(e){window.customElements.define(t,e)}});var t,r}};var n=function(t,r){return"method"!==r.kind||!r.descriptor||"value"in r.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer:function(){"function"==typeof r.initializer&&(this[r.key]=r.initializer.call(this))},finisher:function(e){e.createProperty(r.key,t)}}:Object.assign(Object.assign({},r),{finisher:function(e){e.createProperty(r.key,t)}})},o=function(e,t,r){t.constructor.createProperty(r,e)};function i(r){return function(e,t){return void 0!==t?o(r,e,t):n(r,e)}}function a(e){return i({attribute:!1,hasChanged:null==e?void 0:e.hasChanged})}r.state=a;var l=function(e,t,r){Object.defineProperty(t,r,e)},u=function(e,t){return{kind:"method",placement:"prototype",key:t.key,descriptor:e}},c=function(t,r){return Object.assign(Object.assign({},r),{finisher:function(e){Object.assign(e.prototype[r.key],t)}})},p=function(e,t,r){Object.assign(t[r],e)};var r=Element.prototype,f=r.msMatchesSelector||r.webkitMatchesSelector},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e){return function(){var s=e.apply(this,arguments);return new Promise(function(i,a){return function t(e,r){try{var n=s[e](r),o=n.value}catch(e){return void a(e)}if(!n.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});i(o)}("next")})}}window.JSCompiler_renameProperty=function(e,t){return e};var s,u=r.defaultConverter={toAttribute:function(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},c=r.notEqual=function(e,t){return t!==e&&(t==t||e==e)},p={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:c},f="finalized",o=r.UpdatingElement=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,HTMLElement),o(h,[{key:"initialize",value:function(){var t=this;this._updateState=0,this._updatePromise=new Promise(function(e){return t._enableUpdatingResolver=e}),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}},{key:"_saveInstanceProperties",value:function(){var n=this;this.constructor._classProperties.forEach(function(e,t){var r;n.hasOwnProperty(t)&&(r=n[t],delete n[t],n._instanceProperties||(n._instanceProperties=new Map),n._instanceProperties.set(t,r))})}},{key:"_applyInstanceProperties",value:function(){var r=this;this._instanceProperties.forEach(function(e,t){return r[t]=e}),this._instanceProperties=void 0}},{key:"connectedCallback",value:function(){this.enableUpdating()}},{key:"enableUpdating",value:function(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,r){t!==r&&this._attributeToProperty(e,r)}},{key:"_propertyToAttribute",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p,n=this.constructor,e=n._attributeNameForProperty(e,r);void 0===e||void 0!==(r=n._propertyValueToAttribute(t,r))&&(this._updateState=8|this._updateState,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._updateState=-9&this._updateState)}},{key:"_attributeToProperty",value:function(e,t){var r,n;8&this._updateState||void 0!==(n=(r=this.constructor)._attributeToPropertyMap.get(e))&&(e=r.getPropertyOptions(n),this._updateState=16|this._updateState,this[n]=r._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState)}},{key:"requestUpdateInternal",value:function(e,t,r){var n,o=!0;void 0!==e&&(n=this.constructor,r=r||n.getPropertyOptions(e),n._valueHasChanged(this[e],t,r.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,r))):o=!1),!this._hasRequestedUpdate&&o&&(this._updatePromise=this._enqueueUpdate())}},{key:"requestUpdate",value:function(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}},{key:"_enqueueUpdate",value:(s=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._updateState=4|this._updateState,e.prev=1,e.next=4,this._updatePromise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:if(null!=(t=this.performUpdate()))return e.next=12,t;e.next=12;break;case 12:return e.abrupt("return",!this._hasRequestedUpdate);case 13:case"end":return e.stop()}},e,this,[[1,6]])})),function(){return s.apply(this,arguments)})},{key:"performUpdate",value:function(){if(this._hasRequestedUpdate){this._instanceProperties&&this._applyInstanceProperties();var t=!1,e=this._changedProperties;try{(t=this.shouldUpdate(e))?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"_getUpdateComplete",value:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._updatePromise}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){var r=this;void 0!==this._reflectingProperties&&0<this._reflectingProperties.size&&(this._reflectingProperties.forEach(function(e,t){return r._propertyToAttribute(t,r[t],e)}),this._reflectingProperties=void 0),this._markUpdated()}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"hasUpdated",get:function(){return 1&this._updateState}},{key:"updateComplete",get:function(){return this._getUpdateComplete()}}],[{key:"_ensureClassProperties",value:function(){var e,r=this;this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))||(this._classProperties=new Map,void 0!==(e=Object.getPrototypeOf(this)._classProperties)&&e.forEach(function(e,t){return r._classProperties.set(t,e)}))}},{key:"createProperty",value:function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p;this._ensureClassProperties(),this._classProperties.set(e,r),r.noAccessor||this.prototype.hasOwnProperty(e)||(t="symbol"===(void 0===e?"undefined":n(e))?Symbol():"__"+e,void 0!==(r=this.getPropertyDescriptor(e,t,r))&&Object.defineProperty(this.prototype,e,r))}},{key:"getPropertyDescriptor",value:function(r,n,o){return{get:function(){return this[n]},set:function(e){var t=this[r];this[n]=e,this.requestUpdateInternal(r,t,o)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this._classProperties&&this._classProperties.get(e)||p}},{key:"finalize",value:function(){var t=Object.getPrototypeOf(this);if(t.hasOwnProperty(f)||t.finalize(),this[f]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var e=this.properties,r=[].concat(l(Object.getOwnPropertyNames(e)),l("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[])),n=!0,o=!1,t=void 0;try{for(var i,a=r[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.createProperty(s,e[s])}}catch(e){o=!0,t=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw t}}}}},{key:"_attributeNameForProperty",value:function(e,t){t=t.attribute;return!1===t?void 0:"string"==typeof t?t:"string"==typeof e?e.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(e,t){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:c)(e,t)}},{key:"_propertyValueFromAttribute",value:function(e,t){var r=t.type,t=t.converter||u,t="function"==typeof t?t:t.fromAttribute;return t?t(e,r):e}},{key:"_propertyValueToAttribute",value:function(e,t){if(void 0!==t.reflect){var r=t.type,t=t.converter;return(t&&t.toAttribute||u.toAttribute)(e,r)}}},{key:"observedAttributes",get:function(){var r=this;this.finalize();var n=[];return this._classProperties.forEach(function(e,t){e=r._attributeNameForProperty(t,e);void 0!==e&&(r._attributeToPropertyMap.set(e,t),n.push(e))}),n}}]),h);function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return e.initialize(),e}o.finalized=!0},{}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LitElement=r.SVGTemplateResult=r.TemplateResult=r.svg=r.html=r.ReactiveElement=void 0;var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0!==n){if("value"in n)return n.value;n=n.get;return void 0!==n?n.call(r):void 0}if(null!==(e=Object.getPrototypeOf(e)))return i(e,t,r)}var a=e("./lib/updating-element.js");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}})}),Object.defineProperty(r,"ReactiveElement",{enumerable:!0,get:function(){return a.UpdatingElement}});var s=e("./lib/decorators.js");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return s[e]}})});var l=e("lit-html/lit-html.js");Object.defineProperty(r,"html",{enumerable:!0,get:function(){return l.html}}),Object.defineProperty(r,"svg",{enumerable:!0,get:function(){return l.svg}}),Object.defineProperty(r,"TemplateResult",{enumerable:!0,get:function(){return l.TemplateResult}}),Object.defineProperty(r,"SVGTemplateResult",{enumerable:!0,get:function(){return l.SVGTemplateResult}});var u=e("./lib/css-tag.js");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}})});e=e("lit-html/lib/shady-render.js");(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");var c={},n=r.LitElement=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,a.UpdatingElement),n(p,[{key:"initialize",value:function(){i(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"initialize",this).call(this),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}},{key:"createRenderRoot",value:function(){return this.attachShadow(this.constructor.shadowRootOptions)}},{key:"adoptStyles",value:function(){var e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?u.supportsAdoptingStyleSheets?this.renderRoot.adoptedStyleSheets=e.map(function(e){return e instanceof CSSStyleSheet?e:e.styleSheet}):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(function(e){return e.cssText}),this.localName))}},{key:"connectedCallback",value:function(){i(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"connectedCallback",this).call(this),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}},{key:"update",value:function(e){var r=this,t=this.render();i(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"update",this).call(this,e),t!==c&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(function(e){var t=document.createElement("style");t.textContent=e.cssText,r.renderRoot.appendChild(t)}))}},{key:"render",value:function(){return c}}],[{key:"getStyles",value:function(){return this.styles}},{key:"_getUniqueStyles",value:function(){var e,t,r;this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))||(e=this.getStyles(),Array.isArray(e)?(t=function r(e,t){return e.reduceRight(function(e,t){return Array.isArray(t)?r(t,e):(e.add(t),e)},t)}(e,new Set),r=[],t.forEach(function(e){return r.unshift(e)}),this._styles=r):this._styles=void 0===e?[]:[e],this._styles=this._styles.map(function(e){if(e instanceof CSSStyleSheet&&!u.supportsAdoptingStyleSheets){var t=Array.prototype.slice.call(e.cssRules).reduce(function(e,t){return e+t.cssText},"");return(0,u.unsafeCSS)(t)}return e}))}}]),p);function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}n.finalized=!0,n.render=e.render,n.shadowRootOptions={mode:"open"}},{"./lib/css-tag.js":11,"./lib/decorators.js":12,"./lib/updating-element.js":13,"lit-html/lib/shady-render.js":22,"lit-html/lit-html.js":27}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultTemplateProcessor=r.DefaultTemplateProcessor=void 0;var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=e("./parts.js");n=r.DefaultTemplateProcessor=(n(a,[{key:"handleAttributeExpressions",value:function(e,t,r,n){var o=t[0];return"."===o?new i.PropertyCommitter(e,t.slice(1),r).parts:"@"===o?[new i.EventPart(e,t.slice(1),n.eventContext)]:"?"===o?[new i.BooleanAttributePart(e,t.slice(1),r)]:new i.AttributeCommitter(e,t,r).parts}},{key:"handleTextExpression",value:function(e){return new i.NodePart(e)}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}r.defaultTemplateProcessor=new n},{"./parts.js":20}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=new WeakMap;r.directive=function(t){return function(){var e=t.apply(void 0,arguments);return n.set(e,!0),e}},r.isDirective=function(e){return"function"==typeof e&&n.has(e)}},{}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isCEPolyfill="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,r.reparentNodes=function(e,t){for(var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;t!==r;){var o=t.nextSibling;e.insertBefore(t,n),t=o}},r.removeNodes=function(e,t){for(var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;t!==r;){var n=t.nextSibling;e.removeChild(t),t=n}}},{}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.removeNodesFromTemplate=function(e,t){var r=e.element.content,n=e.parts,o=document.createTreeWalker(r,f,null,!1),i=h(n),a=n[i],s=-1,l=0,u=[],c=null;for(;o.nextNode();){s++;var p=o.currentNode;for(p.previousSibling===c&&(c=null),t.has(p)&&(u.push(p),null===c&&(c=p)),null!==c&&l++;void 0!==a&&a.index===s;)a.index=null!==c?-1:a.index-l,i=h(n,i),a=n[i]}u.forEach(function(e){return e.parentNode.removeChild(e)})},r.insertNodeIntoTemplate=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.element.content,o=e.parts;if(null!=r)for(var i=document.createTreeWalker(n,f,null,!1),a=h(o),s=0,l=-1;i.nextNode();)for(l++,i.currentNode===r&&(s=u(t),r.parentNode.insertBefore(t,r));-1!==a&&o[a].index===l;){if(0<s){for(;-1!==a;)o[a].index+=s,a=h(o,a);return}a=h(o,a)}else n.appendChild(t)};var n=e("./template.js"),f=133;var u=function(e){for(var t=11===e.nodeType?0:1,r=document.createTreeWalker(e,f,null,!1);r.nextNode();)t++;return t},h=function(e){for(var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1)+1;t<e.length;t++){var r=e[t];if((0,n.isTemplatePartActive)(r))return t}return-1}},{"./template.js":26}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.noChange={},r.nothing={}},{}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventPart=r.PropertyPart=r.PropertyCommitter=r.BooleanAttributePart=r.NodePart=r.AttributePart=r.AttributeCommitter=r.isIterable=r.isPrimitive=void 0;function o(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0!==n){if("value"in n)return n.value;n=n.get;return void 0!==n?n.call(r):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,r)}var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e("./directive.js"),s=e("./dom.js"),l=e("./part.js"),u=e("./template-instance.js"),c=e("./template-result.js"),p=e("./template.js");function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=r.isPrimitive=function(e){return null===e||!("object"===(void 0===e?"undefined":h(e))||"function"==typeof e)},m=r.isIterable=function(e){return Array.isArray(e)||!(!e||!e[Symbol.iterator])},e=r.AttributeCommitter=(n(g,[{key:"_createPart",value:function(){return new b(this)}},{key:"_getValue",value:function(){var e=this.strings,t=e.length-1,r=this.parts;if(1==t&&""===e[0]&&""===e[1]){var n=r[0].value;if("symbol"===(void 0===n?"undefined":h(n)))return String(n);if("string"==typeof n||!m(n))return n}for(var o="",i=0;i<t;i++){o+=e[i];var a=r[i];if(void 0!==a){var s=a.value;if(v(s)||!m(s))o+="string"==typeof s?s:String(s);else{var l=!0,u=!1,a=void 0;try{for(var c,p=s[Symbol.iterator]();!(l=(c=p.next()).done);l=!0){var f=c.value;o+="string"==typeof f?f:String(f)}}catch(e){u=!0,a=e}finally{try{!l&&p.return&&p.return()}finally{if(u)throw a}}}}}return o+=e[t]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),g);function g(e,t,r){y(this,g),this.dirty=!0,this.element=e,this.name=t,this.strings=r,this.parts=[];for(var n=0;n<r.length-1;n++)this.parts[n]=this._createPart()}var b=r.AttributePart=(n(_,[{key:"setValue",value:function(e){e===l.noChange||v(e)&&e===this.value||(this.value=e,(0,a.isDirective)(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;(0,a.isDirective)(this.value);){var e=this.value;this.value=l.noChange,e(this)}this.value!==l.noChange&&this.committer.commit()}}]),_);function _(e){y(this,_),this.value=void 0,this.committer=e}r.NodePart=(n(w,[{key:"appendInto",value:function(e){this.startNode=e.appendChild((0,p.createMarker)()),this.endNode=e.appendChild((0,p.createMarker)())}},{key:"insertAfterNode",value:function(e){this.startNode=e,this.endNode=e.nextSibling}},{key:"appendIntoPart",value:function(e){e.__insert(this.startNode=(0,p.createMarker)()),e.__insert(this.endNode=(0,p.createMarker)())}},{key:"insertAfterPart",value:function(e){e.__insert(this.startNode=(0,p.createMarker)()),this.endNode=e.endNode,e.endNode=this.startNode}},{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){if(null!==this.startNode.parentNode){for(;(0,a.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=l.noChange,e(this)}var t=this.__pendingValue;t!==l.noChange&&(v(t)?t!==this.value&&this.__commitText(t):t instanceof c.TemplateResult?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):m(t)?this.__commitIterable(t):t===l.nothing?(this.value=l.nothing,this.clear()):this.__commitText(t))}}},{key:"__insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"__commitNode",value:function(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}},{key:"__commitText",value:function(e){var t=this.startNode.nextSibling,r="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=r:this.__commitNode(document.createTextNode(r)),this.value=e}},{key:"__commitTemplateResult",value:function(e){var t,r=this.options.templateFactory(e);this.value instanceof u.TemplateInstance&&this.value.template===r?this.value.update(e.values):(r=(t=new u.TemplateInstance(r,e.processor,this.options))._clone(),t.update(e.values),this.__commitNode(r),this.value=t)}},{key:"__commitIterable",value:function(e){Array.isArray(this.value)||(this.value=[],this.clear());var t=this.value,r=0,n=void 0,o=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value;void 0===(n=t[r])&&(n=new w(this.options),t.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(t[r-1])),n.setValue(u),n.commit(),r++}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}r<t.length&&(t.length=r,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.startNode;(0,s.removeNodes)(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),w);function w(e){y(this,w),this.value=void 0,this.__pendingValue=void 0,this.options=e}r.BooleanAttributePart=(n(S,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;(0,a.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=l.noChange,e(this)}var t;this.__pendingValue!==l.noChange&&(t=!!this.__pendingValue,this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=l.noChange)}}]),S);function S(e,t,r){if(y(this,S),this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=r}r.PropertyCommitter=(d(j,e),n(j,[{key:"_createPart",value:function(){return new P(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),j);function j(e,t,r){y(this,j);t=f(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,e,t,r));return t.single=2===r.length&&""===r[0]&&""===r[1],t}var P=r.PropertyPart=(d(A,b),A);function A(){return y(this,A),f(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}var x=!1;!function(){try{var e={get capture(){return!(x=!0)}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}}();r.EventPart=(n(T,[{key:"setValue",value:function(e){this.__pendingValue=e}},{key:"commit",value:function(){for(;(0,a.isDirective)(this.__pendingValue);){var e=this.__pendingValue;this.__pendingValue=l.noChange,e(this)}var t,r,n;this.__pendingValue!==l.noChange&&(t=this.__pendingValue,n=this.value,r=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),n=null!=t&&(null==n||r),r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),n&&(this.__options=O(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=l.noChange)}},{key:"handleEvent",value:function(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}]),T);function T(e,t,r){var n=this;y(this,T),this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=r,this.__boundHandleEvent=function(e){return n.handleEvent(e)}}var O=function(e){return e&&(x?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)}},{"./directive.js":16,"./dom.js":17,"./part.js":19,"./template-instance.js":24,"./template-result.js":25,"./template.js":26}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.render=r.parts=void 0;var o=e("./dom.js"),i=e("./parts.js"),a=e("./template-factory.js"),s=r.parts=new WeakMap;r.render=function(e,t,r){var n=s.get(t);void 0===n&&((0,o.removeNodes)(t,t.firstChild),s.set(t,n=new i.NodePart(Object.assign({templateFactory:a.templateFactory},r))),n.appendInto(t)),n.setValue(e),n.commit()}},{"./dom.js":17,"./parts.js":20,"./template-factory.js":23}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.render=r.shadyTemplateFactory=r.TemplateResult=r.svg=r.html=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("../lit-html.js");Object.defineProperty(r,"html",{enumerable:!0,get:function(){return n.html}}),Object.defineProperty(r,"svg",{enumerable:!0,get:function(){return n.svg}}),Object.defineProperty(r,"TemplateResult",{enumerable:!0,get:function(){return n.TemplateResult}});function f(e,t){return e+"--"+t}var u=e("./dom.js"),h=e("./modify-template.js"),c=e("./render.js"),d=e("./template-factory.js"),p=e("./template-instance.js"),a=e("./template.js"),y=!0;void 0===window.ShadyCSS?y=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),y=!1);function v(e,t,r){b.add(e);var n=r?r.element:document.createElement("template"),o=t.querySelectorAll("style"),i=o.length;if(0!==i){for(var a,s=document.createElement("style"),l=0;l<i;l++){var u=o[l];u.parentNode.removeChild(u),s.textContent+=u.textContent}a=e,g.forEach(function(e){e=d.templateCaches.get(f(e,a));void 0!==e&&e.keyString.forEach(function(e){var t=e.element.content,r=new Set;Array.from(t.querySelectorAll("style")).forEach(function(e){r.add(e)}),(0,h.removeNodesFromTemplate)(e,r)})});var c=n.content;r?(0,h.insertNodeIntoTemplate)(r,s,c.firstChild):c.insertBefore(s,c.firstChild),window.ShadyCSS.prepareTemplateStyles(n,e);var p=c.querySelector("style");window.ShadyCSS.nativeShadow&&null!==p?t.insertBefore(p.cloneNode(!0),t.firstChild):r&&(c.insertBefore(s,c.firstChild),(c=new Set).add(s),(0,h.removeNodesFromTemplate)(r,c))}else window.ShadyCSS.prepareTemplateStyles(n,e)}var m=r.shadyTemplateFactory=function(i){return function(e){var t=f(e.type,i),r=d.templateCaches.get(t);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},d.templateCaches.set(t,r));var n=r.stringsArray.get(e.strings);if(void 0!==n)return n;var o=e.strings.join(a.marker);return void 0===(n=r.keyString.get(o))&&(t=e.getTemplateElement(),y&&window.ShadyCSS.prepareTemplateDom(t,i),n=new a.Template(e,t),r.keyString.set(o,n)),r.stringsArray.set(e.strings,n),n}},g=["html","svg"],b=new Set;r.render=function(e,t,r){if(!r||"object"!==(void 0===r?"undefined":l(r))||!r.scopeName)throw new Error("The `scopeName` option is required.");var n=r.scopeName,o=c.parts.has(t),i=y&&11===t.nodeType&&!!t.host,a=i&&!b.has(n),s=a?document.createDocumentFragment():t;(0,c.render)(e,s,Object.assign({templateFactory:m(n)},r)),a&&(r=c.parts.get(s),c.parts.delete(s),a=r.value instanceof p.TemplateInstance?r.value.template:void 0,v(n,s,a),(0,u.removeNodes)(t,t.firstChild),t.appendChild(s),c.parts.set(t,r)),!o&&i&&window.ShadyCSS.styleElement(t.host)}},{"../lit-html.js":27,"./dom.js":17,"./modify-template.js":18,"./render.js":21,"./template-factory.js":23,"./template-instance.js":24,"./template.js":26}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.templateCaches=void 0,r.templateFactory=function(e){var t=i.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},i.set(e.type,t));var r=t.stringsArray.get(e.strings);if(void 0!==r)return r;var n=e.strings.join(o.marker);void 0===(r=t.keyString.get(n))&&(r=new o.Template(e,e.getTemplateElement()),t.keyString.set(n,r));return t.stringsArray.set(e.strings,r),r};var o=e("./template.js");var i=r.templateCaches=new Map},{"./template.js":26}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TemplateInstance=void 0;var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=e("./dom.js"),c=e("./template.js");r.TemplateInstance=(n(i,[{key:"update",value:function(e){var t=0,r=!0,n=!1,o=void 0;try{for(var i,a=this.__parts[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;void 0!==s&&s.setValue(e[t]),t++}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}var l=!0,n=!1,o=void 0;try{for(var u,c=this.__parts[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var p=u.value;void 0!==p&&p.commit()}}catch(e){n=!0,o=e}finally{try{!l&&c.return&&c.return()}finally{if(n)throw o}}}},{key:"_clone",value:function(){for(var e,t,r=u.isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],o=this.template.parts,i=document.createTreeWalker(r,133,null,!1),a=0,s=0,l=i.nextNode();a<o.length;)if(e=o[a],(0,c.isTemplatePartActive)(e)){for(;s<e.index;)s++,"TEMPLATE"===l.nodeName&&(n.push(l),i.currentNode=l.content),null===(l=i.nextNode())&&(i.currentNode=n.pop(),l=i.nextNode());"node"===e.type?((t=this.processor.handleTextExpression(this.options)).insertAfterNode(l.previousSibling),this.__parts.push(t)):(t=this.__parts).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(this.processor.handleAttributeExpressions(l,e.name,e.strings,this.options))),a++}else this.__parts.push(void 0),a++;return u.isCEPolyfill&&(document.adoptNode(r),customElements.upgrade(r)),r}}]),i);function i(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.__parts=[],this.template=e,this.processor=t,this.options=r}},{"./dom.js":17,"./template.js":26}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SVGTemplateResult=r.TemplateResult=void 0;function o(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0!==n){if("value"in n)return n.value;n=n.get;return void 0!==n?n.call(r):void 0}if(null!==(e=Object.getPrototypeOf(e)))return o(e,t,r)}var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e};function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=e("./dom.js"),s=e("./template.js");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:function(e){return e}}),c=" "+s.marker+" ",e=r.TemplateResult=(n(p,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",r=!1,n=0;n<e;n++){var o=this.strings[n],i=o.lastIndexOf("\x3c!--"),r=(-1<i||r)&&-1===o.indexOf("--\x3e",i+1),i=s.lastAttributeNameRegex.exec(o);t+=null===i?o+(r?c:s.nodeMarker):o.substr(0,i.index)+i[1]+i[2]+s.boundAttributeSuffix+i[3]+s.marker}return t+=this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template"),t=this.getHTML();return void 0!==u&&(t=u.createHTML(t)),e.innerHTML=t,e}}]),p);function p(e,t,r,n){l(this,p),this.strings=e,this.values=t,this.type=r,this.processor=n}r.SVGTemplateResult=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,e),n(f,[{key:"getHTML",value:function(){return"<svg>"+o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"getHTML",this).call(this)+"</svg>"}},{key:"getTemplateElement",value:function(){var e=o(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"getTemplateElement",this).call(this),t=e.content,r=t.firstChild;return t.removeChild(r),(0,a.reparentNodes)(t,r.firstChild),e}}]),f);function f(){return l(this,f),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}},{"./dom.js":17,"./template.js":26}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var N=r.marker="{{lit-"+String(Math.random()).slice(2)+"}}",n=r.nodeMarker="\x3c!--"+N+"--\x3e",R=r.markerRegex=new RegExp(N+"|"+n),L=r.boundAttributeSuffix="$lit$",M=(r.Template=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parts=[],this.element=r;for(var n=[],o=[],i=document.createTreeWalker(r.content,133,null,!1),a=0,s=-1,l=0,u=t.strings,c=t.values.length;l<c;){var p=i.nextNode();if(null!==p){if(s++,1===p.nodeType){if(p.hasAttributes()){for(var f=p.attributes,h=f.length,d=0,y=0;y<h;y++)M(f[y].name,L)&&d++;for(;0<d--;){var v=u[l],m=V.exec(v)[2],g=m.toLowerCase()+L,v=p.getAttribute(g);p.removeAttribute(g);v=v.split(R);this.parts.push({type:"attribute",index:s,name:m,strings:v}),l+=v.length-1}}"TEMPLATE"===p.tagName&&(o.push(p),i.currentNode=p.content)}else if(3===p.nodeType){var b=p.data;if(0<=b.indexOf(N)){for(var _=p.parentNode,w=b.split(R),S=w.length-1,j=0;j<S;j++){var P,A=void 0,x=w[j],A=""===x?U():(null!==(P=V.exec(x))&&M(P[2],L)&&(x=x.slice(0,P.index)+P[1]+P[2].slice(0,-L.length)+P[3]),document.createTextNode(x));_.insertBefore(A,p),this.parts.push({type:"node",index:++s})}""===w[S]?(_.insertBefore(U(),p),n.push(p)):p.data=w[S],l+=S}}else if(8===p.nodeType)if(p.data===N){b=p.parentNode;null!==p.previousSibling&&s!==a||(s++,b.insertBefore(U(),p)),a=s,this.parts.push({type:"node",index:s}),null===p.nextSibling?p.data="":(n.push(p),s--),l++}else for(var T=-1;-1!==(T=p.data.indexOf(N,T+1));)this.parts.push({type:"node",index:-1}),l++}else i.currentNode=o.pop()}var O=!0,r=!1,t=void 0;try{for(var k,C=n[Symbol.iterator]();!(O=(k=C.next()).done);O=!0){var E=k.value;E.parentNode.removeChild(E)}}catch(e){r=!0,t=e}finally{try{!O&&C.return&&C.return()}finally{if(r)throw t}}},function(e,t){var r=e.length-t.length;return 0<=r&&e.slice(r)===t}),U=(r.isTemplatePartActive=function(e){return-1!==e.index},r.createMarker=function(){return document.createComment("")}),V=r.lastAttributeNameRegex=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},{}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.svg=r.html=r.Template=r.isTemplatePartActive=r.createMarker=r.TemplateResult=r.SVGTemplateResult=r.TemplateInstance=r.templateFactory=r.templateCaches=r.render=r.parts=r.PropertyPart=r.PropertyCommitter=r.NodePart=r.isPrimitive=r.isIterable=r.EventPart=r.BooleanAttributePart=r.AttributePart=r.AttributeCommitter=r.nothing=r.noChange=r.reparentNodes=r.removeNodes=r.isDirective=r.directive=r.defaultTemplateProcessor=r.DefaultTemplateProcessor=void 0;var o=e("./lib/default-template-processor.js");Object.defineProperty(r,"DefaultTemplateProcessor",{enumerable:!0,get:function(){return o.DefaultTemplateProcessor}}),Object.defineProperty(r,"defaultTemplateProcessor",{enumerable:!0,get:function(){return o.defaultTemplateProcessor}});var n=e("./lib/directive.js");Object.defineProperty(r,"directive",{enumerable:!0,get:function(){return n.directive}}),Object.defineProperty(r,"isDirective",{enumerable:!0,get:function(){return n.isDirective}});var i=e("./lib/dom.js");Object.defineProperty(r,"removeNodes",{enumerable:!0,get:function(){return i.removeNodes}}),Object.defineProperty(r,"reparentNodes",{enumerable:!0,get:function(){return i.reparentNodes}});var a=e("./lib/part.js");Object.defineProperty(r,"noChange",{enumerable:!0,get:function(){return a.noChange}}),Object.defineProperty(r,"nothing",{enumerable:!0,get:function(){return a.nothing}});var s=e("./lib/parts.js");Object.defineProperty(r,"AttributeCommitter",{enumerable:!0,get:function(){return s.AttributeCommitter}}),Object.defineProperty(r,"AttributePart",{enumerable:!0,get:function(){return s.AttributePart}}),Object.defineProperty(r,"BooleanAttributePart",{enumerable:!0,get:function(){return s.BooleanAttributePart}}),Object.defineProperty(r,"EventPart",{enumerable:!0,get:function(){return s.EventPart}}),Object.defineProperty(r,"isIterable",{enumerable:!0,get:function(){return s.isIterable}}),Object.defineProperty(r,"isPrimitive",{enumerable:!0,get:function(){return s.isPrimitive}}),Object.defineProperty(r,"NodePart",{enumerable:!0,get:function(){return s.NodePart}}),Object.defineProperty(r,"PropertyCommitter",{enumerable:!0,get:function(){return s.PropertyCommitter}}),Object.defineProperty(r,"PropertyPart",{enumerable:!0,get:function(){return s.PropertyPart}});var l=e("./lib/render.js");Object.defineProperty(r,"parts",{enumerable:!0,get:function(){return l.parts}}),Object.defineProperty(r,"render",{enumerable:!0,get:function(){return l.render}});var u=e("./lib/template-factory.js");Object.defineProperty(r,"templateCaches",{enumerable:!0,get:function(){return u.templateCaches}}),Object.defineProperty(r,"templateFactory",{enumerable:!0,get:function(){return u.templateFactory}});var c=e("./lib/template-instance.js");Object.defineProperty(r,"TemplateInstance",{enumerable:!0,get:function(){return c.TemplateInstance}});var p=e("./lib/template-result.js");Object.defineProperty(r,"SVGTemplateResult",{enumerable:!0,get:function(){return p.SVGTemplateResult}}),Object.defineProperty(r,"TemplateResult",{enumerable:!0,get:function(){return p.TemplateResult}});var f=e("./lib/template.js");Object.defineProperty(r,"createMarker",{enumerable:!0,get:function(){return f.createMarker}}),Object.defineProperty(r,"isTemplatePartActive",{enumerable:!0,get:function(){return f.isTemplatePartActive}}),Object.defineProperty(r,"Template",{enumerable:!0,get:function(){return f.Template}}),"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");r.html=function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new p.TemplateResult(e,r,"html",o.defaultTemplateProcessor)},r.svg=function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new p.SVGTemplateResult(e,r,"svg",o.defaultTemplateProcessor)}},{"./lib/default-template-processor.js":15,"./lib/directive.js":16,"./lib/dom.js":17,"./lib/part.js":19,"./lib/parts.js":20,"./lib/render.js":21,"./lib/template-factory.js":23,"./lib/template-instance.js":24,"./lib/template-result.js":25,"./lib/template.js":26}],28:[function(e,t,r){"use strict";e("./js/external-search.module.js"),t.exports="externalSearch"},{"./js/external-search.module.js":29}],29:[function(e,t,r){"use strict";angular.module("externalSearch",[]).value("searchTargets",[]).value("externalSearchText","").component("prmFacetAfter",{bindings:{parentCtrl:"<"},controller:["externalSearch","$scope",function(e,t){this.$onInit=function(){e.setController(this.parentCtrl),e.addExtSearch(),t.$watch("$ctrl.parentCtrl.facets",function(){e.addExtSearch()})}}]}).component("prmPageNavMenuAfter",{controller:["externalSearch",function(e){this.$onInit=function(){e.getController()&&e.addExtSearch()}}]}).component("prmFacetExactAfter",{bindings:{parentCtrl:"<"},template:'<div ng-if="name === \'External Search\'">          <div ng-hide="$ctrl.parentCtrl.facetGroup.facetGroupCollapsed">              <div class="section-content animate-max-height-variable">                  <div ng-if="introText" id="external-search-intro">{{introText}}</div>                  <div class="md-chips md-chips-wrap">                      <div ng-repeat="target in targets" aria-live="polite" class="md-chip animate-opacity-and-scale facet-element-marker-local4">                          <div class="md-chip-content layout-row" role="button" tabindex="0">                              <strong dir="auto" title="{{ target.name }}">                                  <a ng-href="{{ target.url + target.mapping(queries, filters) }}" target="_blank">                                      <img ng-src="{{ target.img }}" width="22" height="22" alt="{{ target.alt }}" style="vertical-align:middle;"> {{ target.name }}                                  </a>                              </strong>                          </div>                      </div>                  </div>              </div>          </div>      </div>',controller:["$scope","$location","searchTargets","externalSearchText",function(r,n,o,i){this.$onInit=function(){r.name=this.parentCtrl.facetGroup.name,r.targets=o,r.introText=i;var e=n.search().query,t=n.search().pfilter;r.queries="[object Array]"===Object.prototype.toString.call(e)?e:!!e&&[e],r.filters="[object Array]"===Object.prototype.toString.call(t)?t:!!t&&[t]}}]}).factory("externalSearch",function(){return{getController:function(){return this.prmFacetCtrl||!1},setController:function(e){this.prmFacetCtrl=e},addExtSearch:function(e){((e=e||this.prmFacetCtrl).facets.length<1||"External Search"!==e.facets[0].name)&&e.facets.unshift({name:"External Search",displayedType:"exact",limitCount:0,facetGroupCollapsed:!1,values:[]})}}})},{}],30:[function(e,t,r){"use strict";e("./js/hathi-trust-availability.module.js"),t.exports="hathiTrustAvailability"},{"./js/hathi-trust-availability.module.js":31}],31:[function(e,t,r){"use strict";angular.module("hathiTrustAvailability",[]).constant("hathiTrustBaseUrl","https://catalog.hathitrust.org/api/volumes/brief/json/").config(["$sceDelegateProvider","hathiTrustBaseUrl",function(e,t){var r=e.resourceUrlWhitelist();r.push(t+"**"),e.resourceUrlWhitelist(r)}]).factory("hathiTrust",["$http","$q","hathiTrustBaseUrl",function(t,s,r){function e(e){if(e.length){e=r+e.join("|");return t.jsonp(e,{cache:!0,jsonpCallbackParam:"callback"}).then(function(e){return e.data})}return s.resolve(null)}var n={};return n.findRecord=function(n){return e(n).then(function(e){for(var t=0;t<n.length;t++){var r=Object.keys(e[n[t]].records)[0];if(r)return s.resolve(e[n[t]].records[r].recordURL)}return s.resolve(null)}).catch(function(e){console.error(e)})},n.findFullViewRecord=function(a){return e(a).then(function(e){for(var t=null,r=0;!t&&r<a.length;r++)for(var n=e[a[r]],o=0;o<n.items.length;o++){var i=n.items[o];if("full view"===i.usRightsString.toLowerCase()){t=n.records[i.fromRecord].recordURL;break}}return s.resolve(t)}).catch(function(e){console.error(e)})},n}]).controller("hathiTrustAvailabilityController",["hathiTrust",function(t){var r=this;r.$onInit=function(){r.msg||(r.msg="Full Text Available at HathiTrust"),r.hideOnline&&i()||r.hideIfJournal&&e()||(r.ignoreCopyright&&!o()&&(r.ignoreCopyright=!1),a())};function n(e){return e.match(/^(\(ocolc\))?\d+$/i)}var e=function(){return!(-1==r.prmSearchResultAvailabilityLine.result.pnx.addata.format[0].toLowerCase().indexOf("journal"))},o=function(){return-1==r.prmSearchResultAvailabilityLine.result.delivery.availability[0].toLowerCase().indexOf("unavailable")},i=function(){var e=r.prmSearchResultAvailabilityLine.result.delivery||[];return e.GetIt1?r.prmSearchResultAvailabilityLine.result.delivery.GetIt1.some(function(e){return e.links.some(function(e){return e.isLinktoOnline})}):-1!==e.deliveryCategory.indexOf("Alma-E")},a=function(){var e=(r.prmSearchResultAvailabilityLine.result.pnx.addata.oclcid||[]).filter(n).map(function(e){return"oclc:"+e.toLowerCase().replace("(ocolc)","")});t[r.ignoreCopyright?"findRecord":"findFullViewRecord"](e).then(function(e){e&&(r.fullTextLink=(e=e,r.entityId?e+"?signon=swle:"+r.entityId:e))})}}]).component("hathiTrustAvailability",{require:{prmSearchResultAvailabilityLine:"^prmSearchResultAvailabilityLine"},bindings:{entityId:"@",ignoreCopyright:"<",hideIfJournal:"<",hideOnline:"<",msg:"@?"},controller:"hathiTrustAvailabilityController",template:'<span ng-if="$ctrl.fullTextLink" class="umnHathiTrustLink">                <md-icon alt="HathiTrust Logo">                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">  <image id="image0" width="16" height="16" x="0" y="0"                  xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJN                  AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACNFBMVEXuegXvegTsewTveArw                  eQjuegftegfweQXsegXweQbtegnsegvxeQbvegbuegbvegbveQbtegfuegbvegXveQbvegbsfAzt                  plfnsmfpq1/wplPuegXvqFrrq1znr2Ptok/sewvueQfuegbtegbrgRfxyJPlsXDmlTznnk/rn03q                  pVnomkjnlkDnsGnvwobsfhPveQXteQrutHDqpF3qnUnpjS/prmDweQXsewjvrWHsjy7pnkvqqGDv                  t3PregvqhB3uuXjusmzpp13qlz3pfxTskC3uegjsjyvogBfpmkHpqF/us2rttXLrgRjrgBjttXDo                  gx/vtGznjzPtfhHqjCfuewfrjCnwfxLpjC7wtnDogBvssmjpfhLtegjtnEjrtnTmjC/utGrsew7s                  o0zpghnohB/roUrrfRHtsmnlkTbrvH3tnEXtegXvegTveQfqhyHvuXjrrGTpewrsrmXqfRHogRjt                  q2Dqewvqql/wu3vqhyDueQnwegXuegfweQPtegntnUvnt3fvxI7tfhTrfA/vzJvmtXLunEbtegrw                  egTregzskjbsxI/ouoPsqFzniyrz2K3vyZnokDLpewvtnkv30J/w17XsvYXjgBbohR7nplnso1L0                  1Kf40Z/um0LvegXngBnsy5juyJXvsGftrGTnhB/opVHoew7qhB7rzJnnmErkkz3splbqlT3smT3t                  tXPqqV7pjzHvunjrfQ7vewPsfA7uoU3uqlruoEzsfQ/vegf///9WgM4fAAAAFHRSTlOLi4uLi4uL                  i4uLi4uLi4tRUVFRUYI6/KEAAAABYktHRLvUtndMAAAAB3RJTUUH4AkNDgYNB5/9vwAAAQpJREFU                  GNNjYGBkYmZhZWNn5ODk4ubh5WMQERUTl5CUEpWWkZWTV1BUYlBWUVVT19BUUtbS1tHV0zdgMDQy                  NjE1MzRXsrC0sraxtWOwd3B0cnZxlXZz9/D08vbxZfDzDwgMCg4JdQsLj4iMio5hiI2LT0hMSk5J                  TUvPyMzKzmHIzcsvKCwqLiktK6+orKquYZCuratvaGxqbmlta+8QNRBl6JQ26Oru6e3rnzBx0uQ8                  aVGGvJopU6dNn1E8c9bsOXPniYoySM+PXbBw0eIlS5fl1C+PFRFlEBUVXbFy1eo1a9fliQDZYIHY                  9fEbNm7avEUUJiC6ddv2HTt3mSuBBfhBQEBQSEgYzOIHAHtfTe/vX0uvAAAAJXRFWHRkYXRlOmNy                  ZWF0ZQAyMDE2LTA5LTEzVDE0OjA2OjEzLTA1OjAwNMgVqAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAx                  Ni0wOS0xM1QxNDowNjoxMy0wNTowMEWVrRQAAAAASUVORK5CYII=" />                  </svg>                 </md-icon>                <a target="_blank" ng-href="{{$ctrl.fullTextLink}}">                {{ ::$ctrl.msg }}                  <prm-icon external-link="" icon-type="svg" svg-icon-set="primo-ui" icon-definition="open-in-new"></prm-icon>                </a>              </span>'})},{}]},{},[6]);
//# sourceMappingURL=custom.js.map
